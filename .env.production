NODE_ENV=production
#############################################
# KỊCH BẢN A — MongoDB BÊN NGOÀI (KHUYẾN NGHỊ)
#############################################

# Backend
BACKEND_PORT=3001

# MongoDB URI (bắt buộc điền)
# - Atlas (TLS mặc định):
#   mongodb+srv://<user>:<pass>@<cluster-id>.<region>.mongodb.net/webchat?retryWrites=true&w=majority
# - EC2 khác / Private IP (chỉ dùng trong VPC/VPN; cân nhắc TLS/SSH tunnel):
#   mongodb://<user>:<pass>@<private-ip>:27017/webchat?authSource=admin
MONGODB_URI=

# Frontend/Domain public
FRONTEND_PORT=80
FRONTEND_DOMAIN=chat.example.com
FRONTEND_URL=http://chat.example.com

# API public (qua ALB/NLB; đổi https nếu có TLS ở LB)
API_URL=http://api.example.com:${BACKEND_PORT}

# Vite (frontend)
VITE_API_BASE_URL=${API_URL}
VITE_SOCKET_URL=${API_URL}


###########################################################
# KỊCH BẢN B — MongoDB TRONG docker-compose (LOCAL-MONGO)
###########################################################
# Lưu ý: Chỉ chạy khi bật profile: --profile local-mongo
# Không public 27017; nếu cần Compass từ ngoài → SSH tunnel/VPN

# Backend
# PORT=3001   # (giữ nguyên như trên, không cần lặp lại)

# MongoDB nội bộ
MONGO_INITDB_ROOT_USERNAME=admin
MONGO_INITDB_ROOT_PASSWORD=change_me_strong
MONGO_INITDB_DATABASE=webchat

# Backend kết nối qua hostname 'mongodb' trong network compose
MONGODB_URI=mongodb://admin:${MONGO_INITDB_ROOT_PASSWORD}@mongodb:27017/${MONGO_INITDB_DATABASE}?authSource=admin

# Frontend/Domain public (giống kịch bản A)
# FRONTEND_PORT=80
# FRONTEND_DOMAIN=chat.example.com
# FRONTEND_URL=http://chat.example.com
# API_URL=http://api.example.com:${PORT}
# VITE_API_BASE_URL=${API_URL}
# VITE_SOCKET_URL=${API_URL}